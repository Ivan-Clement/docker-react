FROM alpine:3.14 as builder
RUN apk add --update npm
WORKDIR '/usr/app'
COPY ./package.json .
RUN npm install
COPY ./public ./public
COPY ./src ./src
VOLUME ./build /usr/app/build
RUN npm run build

FROM nginx:1.23.0-alpine
EXPOSE 80
COPY ./build /usr/share/nginx/html
